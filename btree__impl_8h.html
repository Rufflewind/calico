<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Calico: calico/src/btree_impl.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Calico
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('btree__impl_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">btree_impl.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Associative arrays implemented using B-trees.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbtree.html">btree</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An associative array data structure backed by a B-tree.  <a href="structbtree.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbtree__entry.html">btree_entry</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Refers to a specific location in a B-tree.  <a href="structbtree__entry.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad0d26861b8cbb11989fbe74fd8d78446"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btree__impl_8h.html#ad0d26861b8cbb11989fbe74fd8d78446">btree_contains_key</a> (const <a class="el" href="structbtree.html">btree</a> *m, const KeyType *k)</td></tr>
<tr class="memdesc:ad0d26861b8cbb11989fbe74fd8d78446"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the the given key exists in the <code>btree</code>.  <a href="#ad0d26861b8cbb11989fbe74fd8d78446">More...</a><br /></td></tr>
<tr class="separator:ad0d26861b8cbb11989fbe74fd8d78446"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d93c673bcc20d35b887919c1e638f37"><td class="memItemLeft" align="right" valign="top">static ValueType *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btree__impl_8h.html#a6d93c673bcc20d35b887919c1e638f37">btree_entry_get</a> (const <a class="el" href="structbtree__entry.html">btree_entry</a> *ent)</td></tr>
<tr class="memdesc:a6d93c673bcc20d35b887919c1e638f37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a pointer to the value at an occupied entry.  <a href="#a6d93c673bcc20d35b887919c1e638f37">More...</a><br /></td></tr>
<tr class="separator:a6d93c673bcc20d35b887919c1e638f37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaceb56581bc28bcea2ef25d5463b1642"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btree__impl_8h.html#aaceb56581bc28bcea2ef25d5463b1642">btree_entry_insert</a> (<a class="el" href="structbtree__entry.html">btree_entry</a> *entry, const KeyType *key, const ValueType *value)</td></tr>
<tr class="memdesc:aaceb56581bc28bcea2ef25d5463b1642"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inserts an element into the <code>btree</code> at a vacant entry.  <a href="#aaceb56581bc28bcea2ef25d5463b1642">More...</a><br /></td></tr>
<tr class="separator:aaceb56581bc28bcea2ef25d5463b1642"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d1f3ebe7a8db616ae049f084c306806"><td class="memItemLeft" align="right" valign="top">static KeyType *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btree__impl_8h.html#a6d1f3ebe7a8db616ae049f084c306806">btree_entry_key</a> (const <a class="el" href="structbtree__entry.html">btree_entry</a> *ent)</td></tr>
<tr class="memdesc:a6d1f3ebe7a8db616ae049f084c306806"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a pointer to the key at an occupied entry.  <a href="#a6d1f3ebe7a8db616ae049f084c306806">More...</a><br /></td></tr>
<tr class="separator:a6d1f3ebe7a8db616ae049f084c306806"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5e22306755452e899c06de778877fca"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btree__impl_8h.html#ad5e22306755452e899c06de778877fca">btree_entry_next</a> (<a class="el" href="structbtree__entry.html">btree_entry</a> *ent)</td></tr>
<tr class="memdesc:ad5e22306755452e899c06de778877fca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modifies an occupied entry to refer to its next element.  <a href="#ad5e22306755452e899c06de778877fca">More...</a><br /></td></tr>
<tr class="separator:ad5e22306755452e899c06de778877fca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d5c888ef71fa38f223d47b66d8c64fa"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btree__impl_8h.html#a2d5c888ef71fa38f223d47b66d8c64fa">btree_entry_occupied</a> (const <a class="el" href="structbtree__entry.html">btree_entry</a> *ent)</td></tr>
<tr class="memdesc:a2d5c888ef71fa38f223d47b66d8c64fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether a entry refers to an existing element.  <a href="#a2d5c888ef71fa38f223d47b66d8c64fa">More...</a><br /></td></tr>
<tr class="separator:a2d5c888ef71fa38f223d47b66d8c64fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b9c22c0798f5b1b08c4e2496c28631c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btree__impl_8h.html#a7b9c22c0798f5b1b08c4e2496c28631c">btree_entry_prev</a> (<a class="el" href="structbtree__entry.html">btree_entry</a> *ent)</td></tr>
<tr class="memdesc:a7b9c22c0798f5b1b08c4e2496c28631c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modifies an occupied entry to refer to its previous element.  <a href="#a7b9c22c0798f5b1b08c4e2496c28631c">More...</a><br /></td></tr>
<tr class="separator:a7b9c22c0798f5b1b08c4e2496c28631c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07fd216cf2fb813646c26969a2c1da66"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btree__impl_8h.html#a07fd216cf2fb813646c26969a2c1da66">btree_entry_remove</a> (<a class="el" href="structbtree__entry.html">btree_entry</a> *ent)</td></tr>
<tr class="memdesc:a07fd216cf2fb813646c26969a2c1da66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the element at an occupied entry.  <a href="#a07fd216cf2fb813646c26969a2c1da66">More...</a><br /></td></tr>
<tr class="separator:a07fd216cf2fb813646c26969a2c1da66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a564110d8ed6636d2acc7471cbb664e35"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btree__impl_8h.html#a564110d8ed6636d2acc7471cbb664e35">btree_entry_xinsert</a> (<a class="el" href="structbtree__entry.html">btree_entry</a> *entry, const KeyType *key, const ValueType *value)</td></tr>
<tr class="memdesc:a564110d8ed6636d2acc7471cbb664e35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Similar to <code><a class="el" href="btree__impl_8h.html#aaceb56581bc28bcea2ef25d5463b1642" title="Inserts an element into the btree at a vacant entry. ">btree_entry_insert</a></code> but aborts on error.  <a href="#a564110d8ed6636d2acc7471cbb664e35">More...</a><br /></td></tr>
<tr class="separator:a564110d8ed6636d2acc7471cbb664e35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2c82851ff737132b0c98639ea667e73"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btree__impl_8h.html#ad2c82851ff737132b0c98639ea667e73">btree_find</a> (<a class="el" href="structbtree.html">btree</a> *m, const KeyType *key, <a class="el" href="structbtree__entry.html">btree_entry</a> *entry_out)</td></tr>
<tr class="memdesc:ad2c82851ff737132b0c98639ea667e73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for the given <code>key</code>.  <a href="#ad2c82851ff737132b0c98639ea667e73">More...</a><br /></td></tr>
<tr class="separator:ad2c82851ff737132b0c98639ea667e73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacd0aac87eb816c1c0658ae825cbc935"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btree__impl_8h.html#aacd0aac87eb816c1c0658ae825cbc935">btree_find_first</a> (<a class="el" href="structbtree.html">btree</a> *m, <a class="el" href="structbtree__entry.html">btree_entry</a> *entry_out)</td></tr>
<tr class="memdesc:aacd0aac87eb816c1c0658ae825cbc935"><td class="mdescLeft">&#160;</td><td class="mdescRight">Locates the first (least) entry.  <a href="#aacd0aac87eb816c1c0658ae825cbc935">More...</a><br /></td></tr>
<tr class="separator:aacd0aac87eb816c1c0658ae825cbc935"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03272e58249f7e9e2ba2701a462d6f31"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btree__impl_8h.html#a03272e58249f7e9e2ba2701a462d6f31">btree_find_last</a> (<a class="el" href="structbtree.html">btree</a> *m, <a class="el" href="structbtree__entry.html">btree_entry</a> *entry_out)</td></tr>
<tr class="memdesc:a03272e58249f7e9e2ba2701a462d6f31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Locates the last (greatest) entry.  <a href="#a03272e58249f7e9e2ba2701a462d6f31">More...</a><br /></td></tr>
<tr class="separator:a03272e58249f7e9e2ba2701a462d6f31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe1a8263ff3d21699826cbf151ac5cd5"><td class="memItemLeft" align="right" valign="top">static ValueType *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btree__impl_8h.html#abe1a8263ff3d21699826cbf151ac5cd5">btree_get</a> (<a class="el" href="structbtree.html">btree</a> *m, const KeyType *k)</td></tr>
<tr class="memdesc:abe1a8263ff3d21699826cbf151ac5cd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the value with the given key.  <a href="#abe1a8263ff3d21699826cbf151ac5cd5">More...</a><br /></td></tr>
<tr class="separator:abe1a8263ff3d21699826cbf151ac5cd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6e4b9c20518d3275b77261a038c8903"><td class="memItemLeft" align="right" valign="top">static const ValueType *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btree__impl_8h.html#ac6e4b9c20518d3275b77261a038c8903">btree_get_const</a> (const <a class="el" href="structbtree.html">btree</a> *m, const KeyType *k)</td></tr>
<tr class="memdesc:ac6e4b9c20518d3275b77261a038c8903"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the value with the given key.  <a href="#ac6e4b9c20518d3275b77261a038c8903">More...</a><br /></td></tr>
<tr class="separator:ac6e4b9c20518d3275b77261a038c8903"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49d718ded42afcfe498298db3cca27e1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btree__impl_8h.html#a49d718ded42afcfe498298db3cca27e1">btree_init</a> (<a class="el" href="structbtree.html">btree</a> *m)</td></tr>
<tr class="memdesc:a49d718ded42afcfe498298db3cca27e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes an empty <code>btree</code>.  <a href="#a49d718ded42afcfe498298db3cca27e1">More...</a><br /></td></tr>
<tr class="separator:a49d718ded42afcfe498298db3cca27e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04e8c9c1fff626f9f26cfb790ac10c95"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btree__impl_8h.html#a04e8c9c1fff626f9f26cfb790ac10c95">btree_insert</a> (<a class="el" href="structbtree.html">btree</a> *m, const KeyType *key, const ValueType *value, ValueType *value_out)</td></tr>
<tr class="memdesc:a04e8c9c1fff626f9f26cfb790ac10c95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inserts an element into the <code>btree</code>.  <a href="#a04e8c9c1fff626f9f26cfb790ac10c95">More...</a><br /></td></tr>
<tr class="separator:a04e8c9c1fff626f9f26cfb790ac10c95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af54048ce4d68801c1814dac35d6b37dc"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btree__impl_8h.html#af54048ce4d68801c1814dac35d6b37dc">btree_len</a> (const <a class="el" href="structbtree.html">btree</a> *m)</td></tr>
<tr class="memdesc:af54048ce4d68801c1814dac35d6b37dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the number of elements.  <a href="#af54048ce4d68801c1814dac35d6b37dc">More...</a><br /></td></tr>
<tr class="separator:af54048ce4d68801c1814dac35d6b37dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcedeb6bbdc541578bcd8aab3f87c59c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btree__impl_8h.html#abcedeb6bbdc541578bcd8aab3f87c59c">btree_remove</a> (<a class="el" href="structbtree.html">btree</a> *m, const KeyType *key, KeyType *key_out, ValueType *value_out)</td></tr>
<tr class="memdesc:abcedeb6bbdc541578bcd8aab3f87c59c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the element at the given key and stores the results in <code>*key_out</code> and <code>*value_out</code> respectively, returning <code>1</code>.  <a href="#abcedeb6bbdc541578bcd8aab3f87c59c">More...</a><br /></td></tr>
<tr class="separator:abcedeb6bbdc541578bcd8aab3f87c59c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7dbf27f1474b74f9aa1b43d18a73361"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btree__impl_8h.html#af7dbf27f1474b74f9aa1b43d18a73361">btree_reset</a> (<a class="el" href="structbtree.html">btree</a> *m)</td></tr>
<tr class="memdesc:af7dbf27f1474b74f9aa1b43d18a73361"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes all elements from a <code>btree</code> and frees all memory consumed by the B-tree nodes.  <a href="#af7dbf27f1474b74f9aa1b43d18a73361">More...</a><br /></td></tr>
<tr class="separator:af7dbf27f1474b74f9aa1b43d18a73361"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44eafb70b26241b73783b3f9211e5257"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btree__impl_8h.html#a44eafb70b26241b73783b3f9211e5257">btree_xinsert</a> (<a class="el" href="structbtree.html">btree</a> *m, const KeyType *key, const ValueType *value, ValueType *value_out)</td></tr>
<tr class="memdesc:a44eafb70b26241b73783b3f9211e5257"><td class="mdescLeft">&#160;</td><td class="mdescRight">Similar to <code><a class="el" href="btree__impl_8h.html#a04e8c9c1fff626f9f26cfb790ac10c95" title="Inserts an element into the btree. ">btree_insert</a></code> but aborts if an error occurs.  <a href="#a44eafb70b26241b73783b3f9211e5257">More...</a><br /></td></tr>
<tr class="separator:a44eafb70b26241b73783b3f9211e5257"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Associative arrays implemented using B-trees. </p>
<p>This is a template header. All identifiers in this are prefixed with an arbitrary prefix provided by the user. Before including this header, <code>&lt;calico/btree_head.h&gt;</code> must be included as well.</p>
<p>The main parameters are:</p>
<ul>
<li><code>KeyType</code>: key type</li>
<li><code>ValueType</code>: value type</li>
<li><code>CompareFunction</code>: function used to compare keys, with a type that, through implicit conversions, can be called as if its type is <code>int (*)(btree *, const KeyType *, const KeyType *)</code> (default: <code>cal_pcmp</code>).</li>
</ul>
<p>Some other parameters useful for tuning performance are:</p>
<ul>
<li><code>MinArity</code>: number of children per node (default: 8, minimum: 2)</li>
<li><code>SearchFunction</code>: function used search for a key in a node (default: <code>linear_sorted_search</code>)</li>
<li><code>ChildIndexType</code>: type used to store indices of child nodes (default: <code>unsigned short</code>)</li>
<li><code>HeightType</code>: type used to store the height of the tree (default: <code>unsigned char</code>)</li>
</ul>
<p>Here's an example:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;calico/btree_head.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#define Prefix id</span></div><div class="line"><span class="preprocessor">#define KeyType int</span></div><div class="line"><span class="preprocessor">#define ValueType double</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="btree__template_8h.html">calico/btree_template.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#define Prefix si</span></div><div class="line"><span class="preprocessor">#define KeyType const char *</span></div><div class="line"><span class="preprocessor">#define ValueType int</span></div><div class="line"><span class="preprocessor">#define CompareFunction strcmp</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="btree__template_8h.html">calico/btree_template.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="keywordtype">int</span> i = 42;</div><div class="line">    <span class="keywordtype">double</span> d = 1.5;</div><div class="line">    id_btree t1;</div><div class="line">    si_btree t2;</div><div class="line"></div><div class="line">    id_btree_init(&amp;t1);</div><div class="line">    id_btree_insert(&amp;t2, &amp;i, &amp;d);</div><div class="line">    id_btree_reset(&amp;t1);</div><div class="line"></div><div class="line">    si_btree_init(&amp;t2);</div><div class="line">    si_btree_insert(&amp;t2, &amp;<span class="stringliteral">&quot;hello&quot;</span>, &amp;i);</div><div class="line">    si_btree_reset(&amp;t2);</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --> </div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ad0d26861b8cbb11989fbe74fd8d78446"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int btree_contains_key </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structbtree.html">btree</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const KeyType *&#160;</td>
          <td class="paramname"><em>k</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether the the given key exists in the <code>btree</code>. </p>

</div>
</div>
<a class="anchor" id="a6d93c673bcc20d35b887919c1e638f37"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ValueType* btree_entry_get </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structbtree__entry.html">btree_entry</a> *&#160;</td>
          <td class="paramname"><em>ent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets a pointer to the value at an occupied entry. </p>
<p>If the entry is not occupied, the behavior is undefined.</p>
<p>For sets, this returns a non-null pointer if the entry exists. Otherwise, it returns <code>NULL</code>. </p>

</div>
</div>
<a class="anchor" id="aaceb56581bc28bcea2ef25d5463b1642"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int btree_entry_insert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtree__entry.html">btree_entry</a> *&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const KeyType *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ValueType *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inserts an element into the <code>btree</code> at a vacant entry. </p>
<p>If the entry is not vacant, the behavior is undefined.</p>
<p>If the insert is successful, the entry is invalidated and <code>0</code> is returned. On error, a positive integer is returned.</p>
<dl class="section note"><dt>Note</dt><dd>The <code>key</code> must match the original key used to obtain the vacant entry, or the behavior is undefined. </dd></dl>

</div>
</div>
<a class="anchor" id="a6d1f3ebe7a8db616ae049f084c306806"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static KeyType* btree_entry_key </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structbtree__entry.html">btree_entry</a> *&#160;</td>
          <td class="paramname"><em>ent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets a pointer to the key at an occupied entry. </p>
<p>If the entry is not occupied, the behavior is undefined.</p>
<dl class="section note"><dt>Note</dt><dd>The key can be modified as long as it compares equal to its original value. Otherwise, if the key is modified to a value unequal to its original, or invalidated by, e.g., freeing its associated memory, then the behavior of the following operations shall be undefined until the original value is restored:<ul>
<li><code>btree_find</code></li>
<li><code>btree_get</code></li>
<li><code>btree_get_const</code></li>
<li><code>btree_insert</code></li>
<li><code>btree_remove</code></li>
<li><code>btree_xinsert</code> </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ad5e22306755452e899c06de778877fca"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int btree_entry_next </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtree__entry.html">btree_entry</a> *&#160;</td>
          <td class="paramname"><em>ent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Modifies an occupied entry to refer to its next element. </p>
<p>If there are no more elements, the next entry is vacant. Otherwise, it is occupied. The argument <code>ent</code> must point to an occupied entry, or the behavior is undefined. Returns <code>1</code> if the new entry is occupied, <code>0</code> if the new entry is vacant. </p>

</div>
</div>
<a class="anchor" id="a2d5c888ef71fa38f223d47b66d8c64fa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int btree_entry_occupied </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structbtree__entry.html">btree_entry</a> *&#160;</td>
          <td class="paramname"><em>ent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether a entry refers to an existing element. </p>

</div>
</div>
<a class="anchor" id="a7b9c22c0798f5b1b08c4e2496c28631c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int btree_entry_prev </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtree__entry.html">btree_entry</a> *&#160;</td>
          <td class="paramname"><em>ent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Modifies an occupied entry to refer to its previous element. </p>
<p>If there are no more elements, the previous entry is vacant. Otherwise, it is occupied. The argument <code>ent</code> must point to an occupied entry, or the behavior is undefined. </p>

</div>
</div>
<a class="anchor" id="a07fd216cf2fb813646c26969a2c1da66"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void btree_entry_remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtree__entry.html">btree_entry</a> *&#160;</td>
          <td class="paramname"><em>ent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes the element at an occupied entry. </p>
<p>The entry is invalidated afterwards. If the entry is not occupied, the behavior is undefined. </p>

</div>
</div>
<a class="anchor" id="a564110d8ed6636d2acc7471cbb664e35"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void btree_entry_xinsert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtree__entry.html">btree_entry</a> *&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const KeyType *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ValueType *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Similar to <code><a class="el" href="btree__impl_8h.html#aaceb56581bc28bcea2ef25d5463b1642" title="Inserts an element into the btree at a vacant entry. ">btree_entry_insert</a></code> but aborts on error. </p>

</div>
</div>
<a class="anchor" id="ad2c82851ff737132b0c98639ea667e73"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void btree_find </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtree.html">btree</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const KeyType *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtree__entry.html">btree_entry</a> *&#160;</td>
          <td class="paramname"><em>entry_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Searches for the given <code>key</code>. </p>
<p>The entry returned can be either occupied or vacant, which indicates whether the <code>key</code> was found. </p>

</div>
</div>
<a class="anchor" id="aacd0aac87eb816c1c0658ae825cbc935"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void btree_find_first </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtree.html">btree</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtree__entry.html">btree_entry</a> *&#160;</td>
          <td class="paramname"><em>entry_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Locates the first (least) entry. </p>
<p>If the B-tree is empty, a vacant entry is returned. </p>

</div>
</div>
<a class="anchor" id="a03272e58249f7e9e2ba2701a462d6f31"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void btree_find_last </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtree.html">btree</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtree__entry.html">btree_entry</a> *&#160;</td>
          <td class="paramname"><em>entry_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Locates the last (greatest) entry. </p>
<p>If the B-tree is empty, a vacant entry is returned. </p>

</div>
</div>
<a class="anchor" id="abe1a8263ff3d21699826cbf151ac5cd5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ValueType* btree_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtree.html">btree</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const KeyType *&#160;</td>
          <td class="paramname"><em>k</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves the value with the given key. </p>
<p>Returns <code>NULL</code> if it is not found. </p>

</div>
</div>
<a class="anchor" id="ac6e4b9c20518d3275b77261a038c8903"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const ValueType* btree_get_const </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structbtree.html">btree</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const KeyType *&#160;</td>
          <td class="paramname"><em>k</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves the value with the given key. </p>
<p>Returns <code>NULL</code> if it is not found. </p>

</div>
</div>
<a class="anchor" id="a49d718ded42afcfe498298db3cca27e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void btree_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtree.html">btree</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes an empty <code>btree</code>. </p>

</div>
</div>
<a class="anchor" id="a04e8c9c1fff626f9f26cfb790ac10c95"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int btree_insert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtree.html">btree</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const KeyType *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ValueType *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ValueType *&#160;</td>
          <td class="paramname"><em>value_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inserts an element into the <code>btree</code>. </p>
<p>If an element with the same <code>key</code> already exists, its value is replaced (the key remains unchanged, however) and the old value is stored at <code>value_out</code>.</p>
<p><code>value</code> and <code>value_out</code> are permitted to alias each other.</p>
<p>If the element was added without replacing an existing element, <code>0</code> is returned. If an existing element was replaced, <code>1</code> is returned. If an error occurs, a negative value is returned.</p>
<dl class="section note"><dt>Note</dt><dd>If the keys and/or values are associated with resources, they are not automatically released. In this case, to prevent memory leaks it is necessary to free the old value stored in <code>value_out</code> as well as the <code>key</code> if an existing value was replaced. For example, <div class="fragment"><div class="line"><span class="keywordflow">if</span> (<a class="code" href="btree__template_8h.html#a44eafb70b26241b73783b3f9211e5257">btree_xinsert</a>(m, &amp;key, &amp;value, &amp;old_value)) {</div><div class="line">    free(key);</div><div class="line">    free(old_value);</div><div class="line">}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="af54048ce4d68801c1814dac35d6b37dc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t btree_len </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structbtree.html">btree</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the number of elements. </p>
<p>This is an O(1) operation. </p>

</div>
</div>
<a class="anchor" id="abcedeb6bbdc541578bcd8aab3f87c59c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int btree_remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtree.html">btree</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const KeyType *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">KeyType *&#160;</td>
          <td class="paramname"><em>key_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ValueType *&#160;</td>
          <td class="paramname"><em>value_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes the element at the given key and stores the results in <code>*key_out</code> and <code>*value_out</code> respectively, returning <code>1</code>. </p>
<p>If the element does not exist, does nothing and returns <code>0</code>.</p>
<p>If the key and/or value are associated with resources, it may be necessary to release them if <code>btree_remove</code> returns <code>1</code>, like this:</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (<a class="code" href="btree__template_8h.html#abcedeb6bbdc541578bcd8aab3f87c59c">btree_remove</a>(m, key, &amp;old_key, &amp;old_value)) {</div><div class="line">    free(old_key);</div><div class="line">    free(old_value);</div><div class="line">}</div></div><!-- fragment --><p><code>key</code> and <code>key_out</code> are permitted to alias. </p>

</div>
</div>
<a class="anchor" id="af7dbf27f1474b74f9aa1b43d18a73361"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void btree_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtree.html">btree</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes all elements from a <code>btree</code> and frees all memory consumed by the B-tree nodes. </p>
<p>This operation does not read any of the keys.</p>
<dl class="section note"><dt>Note</dt><dd>If the keys or values are associated with resources that need to be released, <code>btree_reset</code> does <em>not</em> release them! In this situation, one must manually iterate over each element and release them: <div class="fragment"><div class="line"><span class="keywordflow">for</span> (<a class="code" href="btree__template_8h.html#aacd0aac87eb816c1c0658ae825cbc935">btree_find_first</a>(m, &amp;entry);</div><div class="line">     <a class="code" href="btree__template_8h.html#a2d5c888ef71fa38f223d47b66d8c64fa">btree_entry_occupied</a>(&amp;entry);</div><div class="line">     <a class="code" href="btree__template_8h.html#ad5e22306755452e899c06de778877fca">btree_entry_next</a>(&amp;entry)) {</div><div class="line">    free(<a class="code" href="btree__template_8h.html#a6d1f3ebe7a8db616ae049f084c306806">btree_entry_key</a>(&amp;entry));</div><div class="line">    free(<a class="code" href="btree__template_8h.html#a6d93c673bcc20d35b887919c1e638f37">btree_entry_get</a>(&amp;entry));</div><div class="line">}</div><div class="line"><a class="code" href="btree__template_8h.html#af7dbf27f1474b74f9aa1b43d18a73361">btree_reset</a>(m);</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="a44eafb70b26241b73783b3f9211e5257"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int btree_xinsert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtree.html">btree</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const KeyType *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ValueType *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ValueType *&#160;</td>
          <td class="paramname"><em>value_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Similar to <code><a class="el" href="btree__impl_8h.html#a04e8c9c1fff626f9f26cfb790ac10c95" title="Inserts an element into the btree. ">btree_insert</a></code> but aborts if an error occurs. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_e7ac338090e46d594d3ea7a0e9efc7ba.html">calico</a></li><li class="navelem"><a class="el" href="dir_7e0400978a743332366952d266c084e0.html">src</a></li><li class="navelem"><a class="el" href="btree__impl_8h.html">btree_impl.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
